<div>
  <label ng-show="options.showLabel">{{name}}:</label>

  <div class="control-group" ng-class="{ error: hasErrors() }">
    <div cr-ref-preview type="{{schema.$ref}}" options="options"></div>

    <div class="btn-group">
      <button ng-click="newModel()" class="btn">New</button>
      <button ng-show="hasModel()" ng-click="updateModel()" class="btn">Edit</button>
      <button ng-click="selectModel()" class="btn">Select</button>
    </div>
    <div ng-show="hasErrors()" class="help-inline">{{ getFirstError() }}</div>
  </div>

  <div cr-model-modal
       modal-id="{{editModalId}}"
       type="{{schema.$ref}}"
       path="{{path}}"
       defaults="options.defaults"></div>

  <div cr-model-list-modal modal-id="{{selectModalId}}" type="{{schema.$ref}}"></div>
</div>
